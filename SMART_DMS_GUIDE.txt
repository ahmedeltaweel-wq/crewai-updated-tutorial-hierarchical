===============================================
نظام إدارة المستندات الذكي
Smart Document Management System
===============================================

نظرة عامة:
-----------
نظام إدارة مستندات ذكي متقدم مع chatbot مدعوم بالذكاء الاصطناعي (Gemini AI) 
للبحث في الملفات والإجابة على الأسئلة.

المميزات الرئيسية:
-------------------

1. رفع الملفات
   - دعم أنواع متعددة: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, TXT, صور، ملفات مضغوطة
   - السحب والإفلات (Drag & Drop)
   - رفع ملفات متعددة
   - استخراج النص تلقائياً من الملفات

2. Chatbot ذكي
   - مدعوم بـ Google Gemini AI
   - يبحث في محتوى الملفات
   - يجيب على الأسئلة بالعربية والإنجليزية
   - يعرض الملفات ذات الصلة

3. بحث متقدم
   - بحث بالكلمات المفتاحية
   - بحث في المحتوى
   - بحث في الوصف والوسوم

4. إدارة الملفات
   - تعديل الوصف والوسوم
   - حذف الملفات
   - عرض معلومات تفصيلية

5. المذكرات
   - إنشاء مذكرات مرتبطة بالملفات
   - تعديل وحذف المذكرات
   - ربط المذكرات بالملفات

6. قاعدة البيانات
   - SQLite لتخزين البيانات
   - تخزين محتوى الملفات للبحث السريع
   - سجل المحادثات مع الـ chatbot

التثبيت والتشغيل:
-------------------

المتطلبات:
- Python 3.8 أو أحدث
- pip (مدير حزم Python)

خطوات التثبيت:

1. تثبيت المكتبات المطلوبة:
   pip install -r requirements_smart_dms.txt

2. إعداد ملف البيئة (.env):
   أنشئ ملف .env في نفس المجلد وأضف:
   GEMINI_API_KEY=your_gemini_api_key_here

   للحصول على API Key من Google Gemini:
   - زر https://makersuite.google.com/app/apikey
   - سجل دخول بحساب Google
   - انقر "Create API Key"
   - انسخ المفتاح وضعه في ملف .env

3. تشغيل التطبيق:
   python smart_dms_app.py

4. افتح المتصفح:
   http://localhost:5001

هيكل المشروع:
--------------
smart_dms_app.py              # Backend (Flask)
templates/
  smart_dms_index.html        # Frontend (HTML/CSS/JS)
uploads/                      # مجلد الملفات المرفوعة
smart_dms.db                  # قاعدة البيانات SQLite
requirements_smart_dms.txt    # المكتبات المطلوبة

كيفية الاستخدام:
-----------------

1. رفع الملفات:
   - انقر على منطقة الرفع أو اسحب الملفات
   - يمكنك رفع ملفات متعددة في نفس الوقت
   - سيتم استخراج النص تلقائياً من الملفات المدعومة

2. البحث في الملفات:
   - اكتب كلمة البحث في خانة البحث
   - اضغط Enter أو زر "بحث"
   - ستظهر النتائج المطابقة

3. استخدام Chatbot:
   - اكتب سؤالك في خانة الدردشة
   - سيبحث الـ AI في ملفاتك ويجيب على سؤالك
   - سيعرض الملفات ذات الصلة بسؤالك

4. تعديل الملفات:
   - انقر على زر "تعديل" في أي ملف
   - أضف وصفاً ووسوماً
   - احفظ التغييرات

5. إنشاء مذكرات:
   - انقر على زر "المذكرات" في الأعلى
   - انقر "مذكرة جديدة"
   - أدخل العنوان والمحتوى

API Endpoints:
--------------

Files:
- GET /api/files - جلب جميع الملفات
- POST /api/upload - رفع ملف جديد
- PUT /api/files/<id> - تحديث معلومات الملف
- DELETE /api/files/<id> - حذف ملف

Search:
- POST /api/search - البحث في الملفات

Chat:
- POST /api/chat - إرسال رسالة للـ chatbot

Notes:
- GET /api/notes - جلب جميع المذكرات
- POST /api/notes - إنشاء مذكرة جديدة
- PUT /api/notes/<id> - تحديث مذكرة
- DELETE /api/notes/<id> - حذف مذكرة

التصميم:
---------
التطبيق يستخدم تصميم حديث وجذاب مع:
- Glassmorphism للخلفيات
- Gradients ملونة
- Animations سلسة
- Responsive Design يعمل على جميع الأجهزة
- RTL Support دعم كامل للعربية

الأمان:
--------
- تحقق من نوع الملفات قبل الرفع
- حد أقصى لحجم الملف: 50MB
- Hash للملفات لمنع التكرار
- Secure filenames

استكشاف الأخطاء:
------------------

المشكلة: "AI service is not configured"
الحل: تأكد من إضافة GEMINI_API_KEY في ملف .env

المشكلة: خطأ في استخراج النص من PDF
الحل: تأكد من تثبيت PyPDF2 بشكل صحيح

المشكلة: خطأ في رفع الملفات
الحل: تأكد من وجود مجلد uploads وأن لديك صلاحيات الكتابة

قاعدة البيانات:
-----------------

جدول Files:
- id: معرف فريد
- filename: اسم الملف المخزن
- original_filename: الاسم الأصلي
- file_path: مسار الملف
- file_size: حجم الملف
- file_type: نوع الملف
- upload_date: تاريخ الرفع
- last_modified: آخر تعديل
- description: الوصف
- tags: الوسوم
- content_text: محتوى الملف النصي
- file_hash: Hash الملف

جدول Chat History:
- id: معرف فريد
- user_message: رسالة المستخدم
- bot_response: رد الـ AI
- timestamp: وقت المحادثة
- related_files: الملفات المرتبطة

جدول Notes:
- id: معرف فريد
- title: العنوان
- content: المحتوى
- created_date: تاريخ الإنشاء
- last_modified: آخر تعديل
- related_files: الملفات المرتبطة
- tags: الوسوم

تطويرات مستقبلية:
-------------------
- دعم المزيد من أنواع الملفات
- بحث متقدم بالـ Vector Embeddings
- مشاركة الملفات مع مستخدمين آخرين
- تصدير المذكرات إلى PDF
- دعم اللغات المتعددة
- نظام المجلدات والتصنيفات
- معاينة الملفات داخل التطبيق
- إحصائيات وتقارير

المطور:
--------
تم تطويره باستخدام:
- Backend: Python, Flask
- Frontend: HTML5, CSS3, JavaScript
- AI: Google Gemini AI
- Database: SQLite
- Design: Modern UI/UX with Glassmorphism

ملاحظة: هذا النظام مصمم ليكون بديلاً متقدماً لأنظمة إدارة الملفات 
التقليدية مع إضافة قوة الذكاء الاصطناعي للبحث والإجابة على الأسئلة.

استمتع باستخدام نظام إدارة المستندات الذكي!
