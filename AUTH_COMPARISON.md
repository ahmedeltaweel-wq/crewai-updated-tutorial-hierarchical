# ๐ ููุงุฑูุฉ ุดุงููุฉ: API Key vs Service Account

## ๐ ุฌุฏูู ุงูููุงุฑูุฉ ุงูุณุฑูุน

| ุงููุนูุงุฑ | Gemini API Key | Service Account Key | Workload Identity |
|---------|----------------|---------------------|-------------------|
| **ุงูุฃูุงู** | โ ุขูู ููุชุทููุฑ | โ๏ธ ุฎุทุฑ ุฃููู ุนุงูู | โ ุงูุฃูุซุฑ ุฃูุงูุงู |
| **ุงูุณูููุฉ** | โ ุจุณูุท ุฌุฏุงู | โ ูุนูุฏ | โ ูุนูุฏ ุฌุฏุงู |
| **ุงูุฅุนุฏุงุฏ** | 2 ุฏูููุฉ | 10 ุฏูุงุฆู | 30+ ุฏูููุฉ |
| **ุงูุตูุงุญูุงุช** | Gemini ููุท | ูู ุดูุก (ุฎุทุฑ!) | ูุญุฏุฏุฉ |
| **ููุชุทููุฑ ุงููุญูู** | โ ูุซุงูู | โ๏ธ ุบูุฑ ููุตู | โ ุบูุฑ ุนููู |
| **ููู Production** | โ๏ธ ูุญุฏูุฏ | โ ุฎุทุฑ ุฃููู | โ ููุตู ุจู |
| **ุงูุชูููุฉ** | ูุฌุงูู (ุญุฏ ูุนูู) | ูุฌุงูู | ูุฌุงูู |
| **Rate Limits** | 15 req/min | ุฃุนูู | ุฃุนูู |
| **Auto-Disable** | ูุง | โ ูุนู (GitHub) | ูุง |

---

## ๐ฏ ูุชู ุชุณุชุฎุฏู ูู ุทุฑููุฉุ

### โ ุงุณุชุฎุฏู **Gemini API Key** ุฅุฐุง:

- โ ุชุนูู ุนูู **ุงูุชุทููุฑ ุงููุญูู**
- โ ุชุญุชุงุฌ **Gemini API ููุท**
- โ ุชุฑูุฏ **ุฅุนุฏุงุฏ ุณุฑูุน** (ุฏูููุชูู)
- โ **ูุจุชุฏุฆ** ูู Google Cloud
- โ ุชุฑูุฏ **ุชุฌูุจ ุงููุฎุงุทุฑ ุงูุฃูููุฉ**

**๐ ุงูุฎุทูุงุช:**
1. ุงูุชุญ: https://aistudio.google.com/app/apikey
2. ุงุถุบุท "Create API Key"
3. ุงูุณุฎ ุงูููุชุงุญ
4. ุฃุถู ุฅูู `.env`: `GOOGLE_API_KEY=your-key`

**๐ ุงูุฏููู ุงููุงูู:** [GEMINI_API_SETUP.md](GEMINI_API_SETUP.md)

---

### โ๏ธ ุงุณุชุฎุฏู **Service Account Key** ุฅุฐุง:

- โ๏ธ ุชุญุชุงุฌ **ุตูุงุญูุงุช ูุชุนุฏุฏุฉ** (BigQuery, Storage, etc.)
- โ๏ธ ุชุนูู ุนูู **ุณูุฑูุฑ ุฎุงุต** (ููุณ Cloud)
- โ๏ธ **ูุง ููููู** ุงุณุชุฎุฏุงู Workload Identity
- โ๏ธ ูุฏูู **ุฎุจุฑุฉ ุฃูููุฉ** ูุงููุฉ

**โ๏ธ ุชุญุฐูุฑุงุช:**
- โ **ูุง ุชุฑูุน** ุงูููุชุงุญ ุนูู GitHub ุฃุจุฏุงู
- โ **ูุง ุชุดุงุฑู** ุงูููุชุงุญ ูุน ุฃุญุฏ
- โ Google **ุณุชุนุทูู** ุงูููุชุงุญ ุฅุฐุง ุงูุชุดูุชู ูู GitHub
- โ **ุฎุทุฑ ุฃููู** ูุจูุฑ ุฅุฐุง ุชุณุฑุจ

**๐ ุงูุฏููู ุงููุงูู:** [SERVICE_ACCOUNT_SETUP.md](SERVICE_ACCOUNT_SETUP.md)

---

### โ ุงุณุชุฎุฏู **Workload Identity Federation** ุฅุฐุง:

- โ ุชุนูู ุนูู **Cloud Run / GKE / Cloud Functions**
- โ ุชุฑูุฏ **ุฃุนูู ูุณุชูู ุฃูุงู**
- โ ูุฏูู **ุตูุงุญูุงุช Organization Admin**
- โ **Production Environment**

**๐ ุงููุฑุฌุน:** [Google Cloud Docs](https://cloud.google.com/iam/docs/workload-identity-federation)

---

## ๐ ุงูุชูุตูุฉ ูุญุงูุชู (Ahmed)

ุจูุงุกู ุนูู:
- โ ุชุนูู ุนูู **ุงูุชุทููุฑ ุงููุญูู** (Windows)
- โ ุชุญุชุงุฌ **Gemini API ููุท**
- โ ูุฏูู ุชุทุจููุงุช **CrewAI**
- โ๏ธ Omar ุญุฐูุฑู ูู Service Account "overpowered"

### **ุงูุชูุตูุฉ: ุงุณุชุฎุฏู Gemini API Key** ๐ฏ

```bash
# ูู ููู .env
GOOGLE_API_KEY=AIzaSy...your-api-key-here
```

**ููุงุฐุงุ**
1. โ **ุฃุจุณุท** - ุฅุนุฏุงุฏ ูู ุฏูููุชูู
2. โ **ุฃูุซุฑ ุฃูุงูุงู** - ูุง ุฎุทุฑ ูู ุชุณุฑุจ ุตูุงุญูุงุช ูุซูุฑุฉ
3. โ **ูููู ูุญุงูุชู** - Gemini API ููุท
4. โ **ูุง ุชุญุฐูุฑุงุช ุฃูููุฉ** ูู Google
5. โ **ูุนูู ูุน ูู ุชุทุจููุงุชู** ุงูุญุงููุฉ

---

## ๐ ุฎุทูุงุช ุณุฑูุนุฉ (5 ุฏูุงุฆู)

### ุงูุฎุทูุฉ 1: ุงุญุตู ุนูู API Key
```
1. ุงูุชุญ: https://aistudio.google.com/app/apikey
2. ุงุถุบุท "Create API Key"
3. ุงุฎุชุฑ: eg-konecta-sandbox
4. ุงูุณุฎ ุงูููุชุงุญ
```

### ุงูุฎุทูุฉ 2: ุฃุถู ุฅูู .env
```bash
GOOGLE_API_KEY=AIzaSy...your-api-key-here
```

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุฑ
```bash
python test_gemini_simple.py
```

### ุงูุฎุทูุฉ 4: ุดุบูู ุชุทุจููุงุชู
```bash
# Telegram Bot
python telegram_bot.py

# Electric Call Center
python electric_web_app.py

# Health Insurance
python web_app.py
```

---

## ๐ ูุตุงุฆุญ ุงูุฃูุงู

### ูู API Key:
- โ ุฃุถู `.env` ุฅูู `.gitignore`
- โ ุงุณุชุฎุฏู `.env.example` ูููุดุงุฑูุฉ
- โ ูููุฏ API Key ุจู IP (ุงุฎุชูุงุฑู)
- โ ุฑุงูุจ ุงูุงุณุชุฎุฏุงู ูู Console

### ูู Service Account Key (ุฅุฐุง ุงุถุทุฑุฑุช):
- โ๏ธ **ูุง ุชุฑูุน** ุนูู GitHub ุฃุจุฏุงู
- โ๏ธ ุงุณุชุฎุฏู **Google Secret Manager** ููู Production
- โ๏ธ ูู ุจู **Rotate** ุงูููุงุชูุญ ุจุงูุชุธุงู
- โ๏ธ ุงููุญ **ุฃูู ุตูุงุญูุงุช** ููููุฉ (Principle of Least Privilege)

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ูุดููุฉ: `RESOURCE_EXHAUSTED`
**ุงูุณุจุจ:** ุชุฌุงูุฒุช Rate Limit (15 requests/minute)

**ุงูุญู:**
```python
# ุฃุถู Rate Limiting ูู ุงูููุฏ
import time
time.sleep(4)  # ุงูุชุธุฑ 4 ุซูุงูู ุจูู ุงูุทูุจุงุช
```

### ูุดููุฉ: `Invalid API Key`
**ุงูุณุจุจ:** ุงูููุชุงุญ ุฎุงุทุฆ ุฃู ููุชูู

**ุงูุญู:**
1. ุชุฃูุฏ ูู ูุณุฎ ุงูููุชุงุญ ูุงููุงู
2. ุชุญูู ูู ุนุฏู ูุฌูุฏ ูุณุงูุงุช
3. ุฌุฑุจ ุฅูุดุงุก ููุชุงุญ ุฌุฏูุฏ

### ูุดููุฉ: `Permission Denied`
**ุงูุณุจุจ:** API ุบูุฑ ููุนูู

**ุงูุญู:**
1. ุงูุชุญ: https://console.cloud.google.com/apis/library/generativelanguage.googleapis.com
2. ุงุถุบุท "Enable"

---

## ๐ ูุฑุงุฌุน ูููุฏุฉ

- [Google AI Studio](https://aistudio.google.com/)
- [Gemini API Docs](https://ai.google.dev/docs)
- [LangChain Google GenAI](https://python.langchain.com/docs/integrations/chat/google_generative_ai)
- [CrewAI Docs](https://docs.crewai.com/)

---

## โ ุงูุฎูุงุตุฉ

| ุงูุณููุงุฑูู | ุงูุญู ุงูููุตู ุจู |
|-----------|-----------------|
| **ุงูุชุทููุฑ ุงููุญูู** | โ Gemini API Key |
| **Cloud Run/GKE** | โ Workload Identity |
| **ุณูุฑูุฑ ุฎุงุต** | โ๏ธ Service Account (ุจุญุฐุฑ) |
| **ูุจุชุฏุฆ** | โ Gemini API Key |
| **ุฎุจูุฑ** | โ Workload Identity |

**๐ฏ ูุญุงูุชู: ุงุณุชุฎุฏู Gemini API Key!**
